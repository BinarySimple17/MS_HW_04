apiVersion: v1
kind: ConfigMap
metadata:
  name: users-service-config
  labels:
    app: users-service
data:
  application-kubernetes.yaml: |
    spring:
      datasource:
        url: ${DATASOURCE_URL}
        username: ${DATASOURCE_USERNAME}
        password: ${DATASOURCE_PASSWORD}
        driver-class-name: org.postgresql.Driver
        hikari:
          maximum-pool-size: 10
          minimum-idle: 2
    
      liquibase:
        enabled: false
    
      springdoc:
        api-docs:
          path: /v3/api-docs
        swagger-ui:
          path: /swagger-ui.html
        info:
          title: Users Service API
          version: 1.0.0
          description: REST API for managing users
          contact:
            name: Support Team
            email: support@example.com

  application-job.yaml: |
    spring:
      datasource:
        url: ${DATASOURCE_URL}
        username: ${DATASOURCE_USERNAME}
        password: ${DATASOURCE_PASSWORD}
        driver-class-name: org.postgresql.Driver
        hikari:
          maximum-pool-size: 10
          minimum-idle: 2
    
      liquibase:
        enabled: true
        change-log: classpath:db/changelog/db.changelog-master.yaml